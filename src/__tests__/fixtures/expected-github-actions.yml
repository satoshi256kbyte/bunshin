name: Convert Buildspec to GitHub Actions

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Set environment variables
        run: |
          echo "key1=value" >> $GITHUB_ENV
          echo "key2=value" >> $GITHUB_ENV

      - name: Cache paths
        uses: actions/cache@v3
        with:
          path: |
            path
            path
          key: ${{ runner.os }}-cache-
          restore-keys: |
            ${{ runner.os }}-cache-

      - name: Setup runtime1 version
        uses: actions/setup-runtime1@v2
        with:
          runtime1-version: version

      - name: Setup runtime2 version
        uses: actions/setup-runtime2@v2
        with:
          runtime2-version: version

      - name: Install dependencies
        run: |
          command
          command

      - name: Build
        run: |
          command
          command

      - name: Post Build
        run: |
          command
          command
